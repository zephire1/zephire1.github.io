(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,a,t){"use strict";t.r(a);t(83),t(133);var n=t(0),r=t.n(n),s=t(48),c=t.n(s),o=t(29),i=t.n(o),l=t(13),m=t.n(l),u=t(25),d=t(75),p=t(76),h=t(80),f=t(77),v=t(81),E=t(1),y=(t(178),t(78)),k=t.n(y),w=t(79),g=t.n(w),b=function(e){e.props;var a=e.id,t=(e.go,e.searchname),n=e.error_t,s=e.nickname,c=e.statusname,o=e.btnshow,i=e.countname,l=e.yourname,m=e.openyourname,u=e.registername,d=e.removeyourname,p=e.showprofilename;return r.a.createElement(E.Panel,{id:a},r.a.createElement(E.PanelHeader,null,"\u0422\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),r.a.createElement(E.Group,null,r.a.createElement(E.FormLayout,null,r.a.createElement(E.Input,{type:"text",top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",bottom:n,id:"nickname",value:s,status:c,maxLength:"16"}),!0===o&&r.a.createElement(E.Button,{size:"xl",onClick:u},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),2===o&&r.a.createElement(E.Button,{size:"xl",onClick:p,"data-to":"nick"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),r.a.createElement(E.Button,{size:"xl",onClick:t},"\u041d\u0430\u0439\u0442\u0438"))),r.a.createElement(E.Group,{title:"\u0412\u0430\u0448 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"},0===i&&r.a.createElement(E.Div,null,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0443 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442\u0443 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0432 \u043f\u043e\u0438\u0441\u043a \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0437\u0430\u043d\u044f\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e!"),i>0&&r.a.createElement(E.Div,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(E.Div,{style:{marginRight:10,display:"flex",alignItems:"center"}},"1. ",l),r.a.createElement(E.Div,{style:{marginRight:10,display:"flex",justifyContent:"end"}},r.a.createElement(E.Button,{onClick:d,style:{marginRight:5},level:"destructive"},r.a.createElement(g.a,null)),r.a.createElement(E.Button,{onClick:m,"data-to":"persik"},r.a.createElement(k.a,null))))))},x=(t(74),t(35)),j=t.n(x),D=t(28),S=t.n(D),_=Object(E.platform)(),O=function(e,a,t,n,s,c,o){return r.a.createElement(E.Panel,{id:e.id},r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:e.go,"data-to":"home"},_===E.IOS?r.a.createElement(j.a,null):r.a.createElement(S.a,null))},e.yourname),r.a.createElement(E.Group,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0435"},r.a.createElement(E.Div,null,r.a.createElement(E.Div,null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c: ",e.yourname),r.a.createElement(E.Div,null,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",e.datayourname),r.a.createElement(E.Div,null,"\u0410\u0432\u0442\u043e\u0440: ",e.profilesurname," ",e.profilename))),r.a.createElement(E.Group,{title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430"},r.a.createElement(E.Div,{className:"card"},r.a.createElement(E.Div,{className:"card-info"},r.a.createElement("span",{className:"card-info-name"},e.yourname),r.a.createElement("span",{className:"card-info-avatar"},r.a.createElement("img",{alt:"",src:e.profileimg})),r.a.createElement("span",{className:"card-info-data"},r.a.createElement("small",null,"\u0414\u0430\u0442\u0430:"),e.datayourname),r.a.createElement("span",{className:"card-info-id"},r.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440:"),e.idyourname),r.a.createElement("span",{className:"card-info-downname"},e.profilesurname," ",e.profilename)))))},N=Object(E.platform)(),I=function(e,a){return r.a.createElement(E.Panel,{id:e.id},r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:e.go,"data-to":"home"},N===E.IOS?r.a.createElement(j.a,null):r.a.createElement(S.a,null))},e.newsearchname),!0===e.loading&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(E.Spinner,{size:"large",style:{marginTop:20}})),!1===e.loading&&r.a.createElement("div",null,r.a.createElement(E.Group,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0435"},r.a.createElement(E.Div,null,r.a.createElement(E.Div,null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c: ",e.newsearchname),r.a.createElement(E.Div,null,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",e.searchdata),r.a.createElement(E.Div,null,"\u0410\u0432\u0442\u043e\u0440: ",e.namesurname))),r.a.createElement(E.Group,{title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430"},r.a.createElement(E.Div,{className:"card"},r.a.createElement(E.Div,{className:"card-info"},r.a.createElement("span",{className:"card-info-name"},e.newsearchname),r.a.createElement("span",{className:"card-info-avatar"},r.a.createElement("img",{alt:"",src:e.photo200})),r.a.createElement("span",{className:"card-info-data"},r.a.createElement("small",null,"\u0414\u0430\u0442\u0430:"),e.searchdata),r.a.createElement("span",{className:"card-info-id"},r.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440:"),e.searchid),r.a.createElement("span",{className:"card-info-downname"},e.namesurname))))))},B=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(f.a)(a).call(this,e))).go=function(e){t.setState({activePanel:e.currentTarget.dataset.to,error_t:null,statusname:null,btnshow:!1})},t.searchname=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,r,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("nickname"),t.setState({newsearchname:n.value}),""!==n.value){e.next=6;break}t.setState({error_t:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",statusname:"error",btnshow:!1}),e.next=13;break;case 6:return e.next=8,fetch("https://yournickname.app7144334.vk.showhim.net/api/searchname.php?nickname="+n.value);case 8:return r=e.sent,e.next=11,r.json();case 11:0===(s=e.sent).code?t.setState({error_t:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0437\u0430\u043d\u044f\u0442 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e!",statusname:"valid",btnshow:!0}):1===s.code&&t.setState({error_t:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0437\u0430\u043d\u044f\u0442, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!",statusname:"error",btnshow:2});case 13:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.scannames=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yournickname.app7144334.vk.showhim.net/api/getyounames.php?vkid="+t.state.vkid);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),r.length>0&&t.setState({countname:r.length,yourname:r[0].nickname,idyourname:r[0].id,datayourname:r[0].data});case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.openyourname=function(){var e=Object(u.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.go(a);case 1:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.registername=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,r,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("nickname"),!(t.state.countname>0)){e.next=5;break}t.setState({error_t:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430",statusname:"error"}),e.next=13;break;case 5:return e.next=7,fetch("https://yournickname.app7144334.vk.showhim.net/api/create.php?vkid="+t.state.vkid+"&nickname="+t.state.newsearchname);case 7:return r=e.sent,e.next=10,r.json();case 10:2===(s=e.sent).code&&(t.setState({error_t:"\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0441\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e!",statusname:"valid",countname:1,yourname:n.value.replace(/\s/g,""),btnshow:!1}),t.scannames()),1===s.code&&t.setState({error_t:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",statusname:"error"});case 13:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.removeyourname=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yournickname.app7144334.vk.showhim.net/api/removename.php?nameid="+t.state.idyourname);case 2:return n=e.sent,e.next=5,n.json();case 5:3===(r=e.sent).code&&t.setState({error_t:"\u0412\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0443\u0434\u0430\u043b\u0435\u043d!",statusname:"valid",countname:0}),4===r.code&&t.setState({error_t:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",statusname:"error"});case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.showprofilename=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.go(a),e.next=3,fetch("https://yournickname.app7144334.vk.showhim.net/api/infoname.php?nickname="+t.state.newsearchname);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t.setState({searchnickname:r.nickname,searchdata:r.data,searchcreateid:r.createid,searchid:r.id,namesurname:r.name,photo200:r.photo}),null!=t.state.photo200&&t.setState({loading:!1});case 9:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.state={activePanel:"home",fetchedUser:null,error_t:null,statusname:null,btnshow:!1,countname:0,newsearchname:null,vkid:void 0,yourname:null,idyourname:null,datayourname:null,loading:!0},t}return Object(v.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(a){switch(a.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:a.detail.data,vkid:a.detail.data.id,profilename:a.detail.data.first_name,profilesurname:a.detail.data.last_name,profileimg:a.detail.data.photo_200});break;default:console.log(a.detail.type)}}),i.a.send("VKWebAppGetUserInfo",{}),setTimeout(this.scannames,2e3)}},{key:"render",value:function(){return r.a.createElement(E.View,{activePanel:this.state.activePanel},r.a.createElement(b,{id:"home",go:this.go,searchname:this.searchname,error_t:this.state.error_t,statusname:this.state.statusname,btnshow:this.state.btnshow,countname:this.state.countname,yourname:this.state.yourname,openyourname:this.openyourname,registername:this.registername,removeyourname:this.removeyourname,showprofilename:this.showprofilename}),r.a.createElement(O,{id:"persik",fetchedUser:this.state.fetchedUser,go:this.go,yourname:this.state.yourname,vkid:this.state.vkid,datayourname:this.state.datayourname,idyourname:this.state.idyourname,profilename:this.state.profilename,profilesurname:this.state.profilesurname,profileimg:this.state.profileimg}),r.a.createElement(I,{id:"nick",go:this.go,newsearchname:this.state.newsearchname,searchnickname:this.state.searchnickname,searchdata:this.state.searchdata,searchcreateid:this.state.searchcreateid,searchid:this.state.searchid,namesurname:this.state.namesurname,photo200:this.state.photo200,loading:this.state.loading}))}}]),a}(r.a.Component);i.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(B,null),document.getElementById("root"))},74:function(e,a,t){},82:function(e,a,t){e.exports=t(179)}},[[82,1,2]]]);
//# sourceMappingURL=main.e1b6d547.chunk.js.map