(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){"use strict";a.r(t);a(83),a(133);var n=a(0),r=a.n(n),s=a(48),c=a.n(s),i=a(29),o=a.n(i),l=a(13),m=a.n(l),u=a(25),d=a(75),p=a(76),h=a(80),f=a(77),v=a(81),E=a(1),y=(a(178),a(78)),k=a.n(y),w=a(79),g=a.n(w),b=function(e){e.props;var t=e.id,a=(e.go,e.searchname),n=e.error_t,s=e.nickname,c=e.statusname,i=e.btnshow,o=e.countname,l=e.yourname,m=e.openyourname,u=e.registername,d=e.removeyourname,p=e.showprofilename;return r.a.createElement(E.Panel,{id:t},r.a.createElement(E.PanelHeader,null,"\u0422\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),r.a.createElement(E.Group,null,r.a.createElement(E.FormLayout,null,r.a.createElement(E.Input,{type:"text",top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",bottom:n,id:"nickname",value:s,status:c,maxLength:"16"}),!0===i&&r.a.createElement(E.Button,{size:"xl",onClick:u},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),2===i&&r.a.createElement(E.Button,{size:"xl",onClick:p,"data-to":"nick"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c"),r.a.createElement(E.Button,{size:"xl",onClick:a},"\u041d\u0430\u0439\u0442\u0438"))),r.a.createElement(E.Group,{title:"\u0412\u0430\u0448 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"},0===o&&r.a.createElement(E.Div,null,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0443 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442\u0443 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0432 \u043f\u043e\u0438\u0441\u043a \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0437\u0430\u043d\u044f\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e!"),o>0&&r.a.createElement(E.Div,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(E.Div,{style:{marginRight:10,display:"flex",alignItems:"center"}},"1. ",l),r.a.createElement(E.Div,{style:{marginRight:10,display:"flex",justifyContent:"end"}},r.a.createElement(E.Button,{onClick:d,style:{marginRight:5},level:"destructive"},r.a.createElement(g.a,null)),r.a.createElement(E.Button,{onClick:m,"data-to":"persik"},r.a.createElement(k.a,null))))))},x=(a(74),a(35)),j=a.n(x),S=a(28),D=a.n(S),_=Object(E.platform)(),O=function(e,t,a,n,s,c,i){return r.a.createElement(E.Panel,{id:e.id},r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:e.go,"data-to":"home"},_===E.IOS?r.a.createElement(j.a,null):r.a.createElement(D.a,null))},e.yourname),r.a.createElement(E.Group,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0435"},r.a.createElement(E.Div,null,r.a.createElement(E.Div,null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c: ",e.yourname),r.a.createElement(E.Div,null,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",e.datayourname),r.a.createElement(E.Div,null,"\u0410\u0432\u0442\u043e\u0440: ",e.profilesurname," ",e.profilename))),r.a.createElement(E.Group,{title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430"},r.a.createElement(E.Div,{className:"card"},r.a.createElement(E.Div,{className:"card-info"},r.a.createElement("span",{className:"card-info-name"},e.yourname),r.a.createElement("span",{className:"card-info-avatar"},r.a.createElement("img",{alt:"",src:e.profileimg})),r.a.createElement("span",{className:"card-info-data"},r.a.createElement("small",null,"\u0414\u0430\u0442\u0430:"),e.datayourname),r.a.createElement("span",{className:"card-info-id"},r.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440:"),e.idyourname),r.a.createElement("span",{className:"card-info-downname"},e.profilesurname," ",e.profilename)))))},N=Object(E.platform)(),I=function(e,t){return r.a.createElement(E.Panel,{id:e.id},r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:e.go,"data-to":"home"},N===E.IOS?r.a.createElement(j.a,null):r.a.createElement(D.a,null))},e.newsearchname),!0===e.loading&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(E.Spinner,{size:"large",style:{marginTop:20}})),!1===e.loading&&r.a.createElement("div",null,r.a.createElement(E.Group,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0435"},r.a.createElement(E.Div,null,r.a.createElement(E.Div,null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c: ",e.newsearchname),r.a.createElement(E.Div,null,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ",e.searchdata),r.a.createElement(E.Div,null,"\u0410\u0432\u0442\u043e\u0440: ",e.namesurname))),r.a.createElement(E.Group,{title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430"},r.a.createElement(E.Div,{className:"card"},r.a.createElement(E.Div,{className:"card-info"},r.a.createElement("span",{className:"card-info-name"},e.newsearchname),r.a.createElement("span",{className:"card-info-avatar"},r.a.createElement("img",{alt:"",src:e.photo200})),r.a.createElement("span",{className:"card-info-data"},r.a.createElement("small",null,"\u0414\u0430\u0442\u0430:"),e.searchdata),r.a.createElement("span",{className:"card-info-id"},r.a.createElement("small",null,"\u041d\u043e\u043c\u0435\u0440:"),e.searchid),r.a.createElement("span",{className:"card-info-downname"},e.namesurname))))))},B=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to,error_t:null,statusname:null,btnshow:!1})},a.searchname=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("nickname"),a.setState({newsearchname:n.value}),""!==n.value){e.next=6;break}a.setState({error_t:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",statusname:"error",btnshow:!1}),e.next=13;break;case 6:return e.next=8,fetch("https://yournickname.app7144334.vk.showhim.net/api/searchname.php?nickname="+n.value);case 8:return r=e.sent,e.next=11,r.json();case 11:0===(s=e.sent).code?a.setState({error_t:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u043d\u0435 \u0437\u0430\u043d\u044f\u0442 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e!",statusname:"valid",btnshow:!0}):1===s.code&&a.setState({error_t:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0437\u0430\u043d\u044f\u0442, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!",statusname:"error",btnshow:2});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.scannames=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yournickname.app7144334.vk.showhim.net/api/getyounames.php?vkid="+a.state.vkid);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),r.length>0&&a.setState({countname:r.length,yourname:r[0].nickname,idyourname:r[0].id,datayourname:r[0].data});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.openyourname=function(){var e=Object(u.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.go(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.registername=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("nickname"),!(a.state.countname>0)){e.next=5;break}a.setState({error_t:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430",statusname:"error"}),e.next=13;break;case 5:return e.next=7,fetch("https://yournickname.app7144334.vk.showhim.net/api/create.php?vkid="+a.state.vkid+"&nickname="+a.state.newsearchname);case 7:return r=e.sent,e.next=10,r.json();case 10:2===(s=e.sent).code&&(a.setState({error_t:"\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0441\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e!",statusname:"valid",countname:1,yourname:n.value.replace(/\s/g,""),btnshow:!1}),a.scannames()),1===s.code&&a.setState({error_t:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",statusname:"error"});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.removeyourname=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yournickname.app7144334.vk.showhim.net/api/removename.php?nameid="+a.state.idyourname);case 2:return n=e.sent,e.next=5,n.json();case 5:3===(r=e.sent).code&&a.setState({error_t:"\u0412\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c \u0443\u0434\u0430\u043b\u0435\u043d!",statusname:"valid",countname:0}),4===r.code&&a.setState({error_t:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",statusname:"error"});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.showprofilename=function(){var e=Object(u.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.go(t),e.next=3,fetch("https://yournickname.app7144334.vk.showhim.net/api/infoname.php?nickname="+a.state.newsearchname);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,a.setState({searchnickname:r.nickname,searchdata:r.data,searchcreateid:r.createid,searchid:r.id,namesurname:r.name,photo200:r.photo}),null!=a.state.photo200&&a.setState({loading:!1});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={activePanel:"home",fetchedUser:null,error_t:null,statusname:null,btnshow:!1,countname:0,newsearchname:null,vkid:void 0,yourname:null,idyourname:null,datayourname:null,loading:!0},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data,vkid:t.detail.data.id,profilename:t.detail.data.first_name,profilesurname:t.detail.data.last_name,profileimg:t.detail.data.photo_200});break;default:console.log(t.detail.type)}e.setState({vkid:e.state.vkid}),null===e.state.vkid&void 0===e.state.vkid&&e.setState({vkid:e.state.vkid})}),o.a.send("VKWebAppGetUserInfo",{}),this.scannames()}},{key:"render",value:function(){return r.a.createElement(E.View,{activePanel:this.state.activePanel},r.a.createElement(b,{id:"home",go:this.go,searchname:this.searchname,error_t:this.state.error_t,statusname:this.state.statusname,btnshow:this.state.btnshow,countname:this.state.countname,yourname:this.state.yourname,openyourname:this.openyourname,registername:this.registername,removeyourname:this.removeyourname,showprofilename:this.showprofilename}),r.a.createElement(O,{id:"persik",fetchedUser:this.state.fetchedUser,go:this.go,yourname:this.state.yourname,vkid:this.state.vkid,datayourname:this.state.datayourname,idyourname:this.state.idyourname,profilename:this.state.profilename,profilesurname:this.state.profilesurname,profileimg:this.state.profileimg}),r.a.createElement(I,{id:"nick",go:this.go,newsearchname:this.state.newsearchname,searchnickname:this.state.searchnickname,searchdata:this.state.searchdata,searchcreateid:this.state.searchcreateid,searchid:this.state.searchid,namesurname:this.state.namesurname,photo200:this.state.photo200,loading:this.state.loading}))}}]),t}(r.a.Component);o.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(B,null),document.getElementById("root"))},74:function(e,t,a){},82:function(e,t,a){e.exports=a(179)}},[[82,1,2]]]);
//# sourceMappingURL=main.114651ea.chunk.js.map